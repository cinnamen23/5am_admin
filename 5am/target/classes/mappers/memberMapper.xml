<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="org.cg.persistence.MemberDAO">

	<select id="listAll" resultType="org.cg.domain.MemberVO"
		parameterType="org.cg.domain.Criteria">
		<![CDATA[
		select * from (SELECT rownum rnum ,mid, mname,mage, mgender, regdate, updatedate FROM 
		( SELECT mid, mname,mage, mgender, regdate, updatedate FROM tbl_member order by regdate desc) 
		tbl_member where rownum <= #{pageNum}) where rnum >= #{skip}
		  ]]>
	</select>

	<select id="totalCount" resultType="Int">
		select count(*) from tbl_Member
	</select>

	<insert id="create" parameterType="org.cg.domain.MemberVO">
		insert into	tbl_Member(mid,mpw,mname,mage,mgender,maddr) values ("${mid}","${mpw}","${mname}","${mage}","${mgender}","${maddr}")
	</insert>

	<delete id="delete" parameterType="org.cg.domain.MemberVO">
		delete from tbl_Member where mid="${mid}"

	</delete>
	
	<update id="update" parameterType="org.cg.domain.MemberVO">
		UPDATE tbl_Member SET mpw = "${mpw}", mname="${mname}",mage="${mage}",mgender="${mgender}", maddr="${maddr}" WHERE mid = "${mid}"
	</update>


</mapper>